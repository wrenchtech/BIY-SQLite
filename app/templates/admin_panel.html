{% extends "base.html" %}

{% block content %}
<section class="card">
    <h2>Panel admin</h2>
    <p>Gestion de clientes, dietas, entrenamientos, medidas y progreso.</p>
</section>

<section class="card form-card">
    <h3>Crear cliente</h3>
    <form method="post" action="{{ url_for('clientes.admin_crear_cliente') }}">
        <label>Nombre</label>
        <input type="text" name="nombre" required>

        <label>Email</label>
        <input type="email" name="email" required>

        <label>Contrasena inicial</label>
        <input type="password" name="password" required>

        <label>Estado</label>
        <select name="estado">
            <option value="pendiente">Pendiente</option>
            <option value="activo">Activo</option>
        </select>

        <button type="submit">Crear cliente</button>
    </form>
</section>

<section class="card">
    <h3>Clientes registrados</h3>
    {% if clientes %}
        <table>
            <thead><tr><th>ID</th><th>Nombre</th><th>Email</th><th>Estado</th><th>Alta</th><th>Accion</th></tr></thead>
            <tbody>
                {% for c in clientes %}
                <tr>
                    <td>{{ c.id }}</td>
                    <td>{{ c.nombre }}</td>
                    <td>{{ c.email }}</td>
                    <td>{{ c.estado }}</td>
                    <td>{{ c.created_at }}</td>
                    <td><a href="{{ url_for('clientes.admin_cliente_detalle', cliente_id=c.id) }}">Administrar</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No hay clientes todavia.</p>
    {% endif %}
</section>
{% endblock %}
